<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<sub-flow name="clients-wms-mega-request-login" doc:id="d9acec21-4116-40a8-8060-bbdb192c4082" >
		<set-variable value="#[%dw 2.0&#10;output application/json&#10;---&#10;{&#10;    &quot;usr_id&quot;: p('client.wms.mega.https.path.login.user'),&#10;    &quot;password&quot;: p('client.wms.mega.https.path.login.password')&#10;}]" doc:name="Request Login" doc:id="755512dc-267d-4b10-8932-9da9f2d94365" variableName="requestLogin" />
	</sub-flow>
	<sub-flow name="clients-post-wms-mega-login-api" doc:id="40917780-5f68-4226-adab-1e0a431273ee" >
		<http:request method="POST" doc:name="Login" doc:id="37301d14-69ad-4832-9e92-34c89ebad276" config-ref="Request_AWS_Mega" path="${client.wms.mega.https.path.login.post}" >
			<http:body ><![CDATA[#[vars.requestLogin]]]></http:body>
		</http:request>
	</sub-flow>
	<sub-flow name="clients-post-wms-mega-service-api" doc:id="9966e4a5-6024-457d-87b9-3e637a00324f" >
		<http:request method="POST" doc:name="Request WMS" doc:id="7d7f717c-f36e-4df9-b933-50a79e0a9b53" config-ref="Request_AWS_Mega" path="${client.wms.mega.https.path.wms.post}" />
	</sub-flow>
</mule>
