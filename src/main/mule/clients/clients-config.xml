<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:jms="http://www.mulesoft.org/schema/mule/jms"
	xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:wsc="http://www.mulesoft.org/schema/mule/wsc"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/jms http://www.mulesoft.org/schema/mule/jms/current/mule-jms.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/wsc http://www.mulesoft.org/schema/mule/wsc/current/mule-wsc.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<wsc:config name="TMS_Web_services_consumer_config"   doc:name="Web Service Consumer Config" doc:id="82dee285-7ed4-4a2e-9a03-2b7f6c171dc3" >
		<wsc:connection wsdlLocation="wsdls\TransportationManager.wsdl" service="${consume.service}" port="${consume.port}" address="${consume.address}">
			<reconnection >
				<reconnect-forever />
			</reconnection>
			<wsc:custom-transport-configuration >
				<wsc:http-transport-configuration requesterConfig="BasicAuth" />
			</wsc:custom-transport-configuration>

		</wsc:connection>
	</wsc:config>
	<http:request-config name="BasicAuth" doc:name="HTTP Request configuration" doc:id="f77dbbb1-bc5f-4065-aae2-52edd47dd3db" responseTimeout="120000">
		<http:request-connection protocol="HTTPS" host="${consume.host.auth}" port="${consume.port.auth}" connectionIdleTimeout="${consume.timeout.auth}">
			<http:authentication >
				<http:basic-authentication username="${consume.username}" password="${consume.passwd}" />
			</http:authentication>
		</http:request-connection>
	</http:request-config>
		<wsc:config name="TMS_Web_services_consumer_config_TXP" doc:name="Web Service Consumer Config" doc:id="bd4a188a-9762-42ac-bc4a-72b84f2c805d" >
		<wsc:connection wsdlLocation="wsdls\TransportationManager.wsdl" service="${consume.txp.service}" port="${consume.txp.port}" address="${consume.txp.address}">
			<wsc:custom-transport-configuration >
				<wsc:http-transport-configuration requesterConfig="BasicAuth_TXP" />
			</wsc:custom-transport-configuration>
			<wsc:web-service-security actor="http://schemas.xmlsoap.org/soap/actor/next" />

		</wsc:connection>
	</wsc:config>
	<http:request-config name="BasicAuth_TXP" doc:name="HTTP Request configuration" doc:id="7fb12a51-effc-4ce8-9cea-7065e0a0b49b" responseTimeout="120000">
		<http:request-connection protocol="HTTPS" host="${consume.txp.host.auth}" port="${consume.txp.port.auth}" connectionIdleTimeout="${consume.txp.timeout.auth}">
			<http:authentication >
				<http:basic-authentication username="${consume.txp.username}" password="${consume.txp.passwd}" />
			</http:authentication>
		</http:request-connection>
	</http:request-config>
	<jms:config name="JMS_Config_Logger" doc:name="JMS Config" doc:id="cd491d6f-09e8-492c-8805-d75a6663f2cf" >
		<jms:active-mq-connection username="${jms.settings.user}" password="${jms.settings.passwd}" >
			<jms:factory-configuration brokerUrl="${jms.settings.url}" />
		</jms:active-mq-connection>
		<jms:producer-config timeToLive="1" timeToLiveUnit="DAYS" />
	</jms:config>
</mule>
